{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/hooks/useTodayProfit.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query'\r\nimport { supabase } from '@/lib/supabase/supabaseClient'\r\nimport { useBusiness } from '@/contexts/BusinessContext'\r\nimport { format } from 'date-fns'\r\n\r\ninterface TodayProfit {\r\n  profit: number\r\n  revenue: number\r\n  expenses: number\r\n}\r\n\r\nexport function useTodayProfit() {\r\n  const { currentBusiness } = useBusiness()\r\n  const today = format(new Date(), 'yyyy-MM-dd')\r\n  \r\n  return useQuery<TodayProfit>({\r\n    queryKey: ['todayProfit', currentBusiness?.id, today],\r\n    queryFn: async () => {\r\n      if (!currentBusiness?.id) {\r\n        return { profit: 0, revenue: 0, expenses: 0 }\r\n      }\r\n      \r\n      console.log(`[useTodayProfit] Fetching today's transactions for business: ${currentBusiness.id}, date: ${today}`)\r\n      \r\n      const { data, error } = await supabase\r\n        .from('transactions')\r\n        .select('transaction_type, amount')\r\n        .eq('business_id', currentBusiness.id)\r\n        .eq('transaction_date', today)\r\n      \r\n      if (error) {\r\n        console.error('[useTodayProfit] Error fetching transactions:', {\r\n          code: error.code,\r\n          message: error.message,\r\n          details: error.details,\r\n        })\r\n        throw error\r\n      }\r\n      \r\n      const revenue = data?.filter(t => t.transaction_type === 'sale' || t.transaction_type === 'payment_received')\r\n        .reduce((sum, t) => sum + t.amount, 0) || 0\r\n      const expenses = data?.filter(t => t.transaction_type === 'expense' || t.transaction_type === 'payment_made')\r\n        .reduce((sum, t) => sum + t.amount, 0) || 0\r\n      \r\n      const profit = revenue - expenses\r\n      console.log(`[useTodayProfit] Today's summary: revenue=${revenue}, expenses=${expenses}, profit=${profit}`)\r\n      \r\n      return { profit, revenue, expenses }\r\n    },\r\n    enabled: !!currentBusiness?.id\r\n  })\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAQO,SAAS;;IACd,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,qJAAW;IACvC,MAAM,QAAQ,IAAA,mKAAM,EAAC,IAAI,QAAQ;IAEjC,OAAO,IAAA,0LAAQ,EAAc;QAC3B,UAAU;YAAC;YAAe,iBAAiB;YAAI;SAAM;QACrD,OAAO;uCAAE;gBACP,IAAI,CAAC,iBAAiB,IAAI;oBACxB,OAAO;wBAAE,QAAQ;wBAAG,SAAS;wBAAG,UAAU;oBAAE;gBAC9C;gBAEA,QAAQ,GAAG,CAAC,CAAC,6DAA6D,EAAE,gBAAgB,EAAE,CAAC,QAAQ,EAAE,OAAO;gBAEhH,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,uJAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,4BACP,EAAE,CAAC,eAAe,gBAAgB,EAAE,EACpC,EAAE,CAAC,oBAAoB;gBAE1B,IAAI,OAAO;oBACT,QAAQ,KAAK,CAAC,iDAAiD;wBAC7D,MAAM,MAAM,IAAI;wBAChB,SAAS,MAAM,OAAO;wBACtB,SAAS,MAAM,OAAO;oBACxB;oBACA,MAAM;gBACR;gBAEA,MAAM,UAAU,MAAM;+CAAO,CAAA,IAAK,EAAE,gBAAgB,KAAK,UAAU,EAAE,gBAAgB,KAAK;8CACvF;+CAAO,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM;8CAAE,MAAM;gBAC5C,MAAM,WAAW,MAAM;+CAAO,CAAA,IAAK,EAAE,gBAAgB,KAAK,aAAa,EAAE,gBAAgB,KAAK;8CAC3F;+CAAO,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM;8CAAE,MAAM;gBAE5C,MAAM,SAAS,UAAU;gBACzB,QAAQ,GAAG,CAAC,CAAC,0CAA0C,EAAE,QAAQ,WAAW,EAAE,SAAS,SAAS,EAAE,QAAQ;gBAE1G,OAAO;oBAAE;oBAAQ;oBAAS;gBAAS;YACrC;;QACA,SAAS,CAAC,CAAC,iBAAiB;IAC9B;AACF;GAxCgB;;QACc,qJAAW;QAGhC,0LAAQ"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/hooks/useTransactions.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query'\r\nimport { supabase } from '@/lib/supabase/supabaseClient'\r\nimport { useBusiness } from '@/contexts/BusinessContext'\r\nimport { Transaction } from '@/types'\r\n\r\nexport function useTransactions() {\r\n  const { currentBusiness } = useBusiness()\r\n  \r\n  return useQuery<Transaction[]>({\r\n    queryKey: ['transactions', currentBusiness?.id],\r\n    queryFn: async () => {\r\n      if (!currentBusiness?.id) {\r\n        console.log('[useTransactions] No business ID, returning empty array')\r\n        return []\r\n      }\r\n      \r\n      console.log(`[useTransactions] Fetching transactions for business: ${currentBusiness.id}`)\r\n      \r\n      // First, let's test if we can query transactions at all (without filter)\r\n      const { data: allData, error: allError } = await supabase\r\n        .from('transactions')\r\n        .select('id, business_id, transaction_type, amount, transaction_date')\r\n        .limit(10)\r\n      \r\n      console.log('[useTransactions] Test query (all transactions, limit 10):', {\r\n        count: allData?.length || 0,\r\n        data: allData,\r\n        error: allError ? {\r\n          code: allError.code,\r\n          message: allError.message,\r\n          details: allError.details,\r\n          hint: allError.hint,\r\n        } : null,\r\n      })\r\n      \r\n      if (allData && allData.length > 0) {\r\n        console.log('[useTransactions] Business IDs found in transactions:', \r\n          [...new Set(allData.map(t => t.business_id))]\r\n        )\r\n        console.log('[useTransactions] Current business ID:', currentBusiness.id)\r\n        console.log('[useTransactions] Match?', allData.some(t => t.business_id === currentBusiness.id))\r\n      }\r\n      \r\n      // Now query with business_id filter\r\n      // Note: deleted_at column might not exist yet, so we'll filter in JavaScript\r\n      const { data, error } = await supabase\r\n        .from('transactions')\r\n        .select('*')\r\n        .eq('business_id', currentBusiness.id)\r\n        .order('transaction_date', { ascending: false })\r\n      \r\n      // Filter out soft-deleted transactions in JavaScript (if deleted_at column exists)\r\n      const activeData = data?.filter(t => !t.deleted_at) || data || []\r\n      \r\n      console.log('[useTransactions] Filtered query result:', {\r\n        business_id_filter: currentBusiness.id,\r\n        count: data?.length || 0,\r\n        error: error ? {\r\n          code: error.code,\r\n          message: error.message,\r\n        } : null,\r\n      })\r\n      \r\n      if (error) {\r\n        console.error('[useTransactions] Error fetching transactions:', {\r\n          code: error.code,\r\n          message: error.message,\r\n          details: error.details,\r\n          hint: error.hint,\r\n        })\r\n        throw error\r\n      }\r\n      \r\n      // Sort by transaction_date (desc), then by created_at (desc) for same dates\r\n      const sortedData = activeData.sort((a, b) => {\r\n        const dateA = new Date(a.transaction_date).getTime()\r\n        const dateB = new Date(b.transaction_date).getTime()\r\n        if (dateA !== dateB) {\r\n          return dateB - dateA // Descending by date\r\n        }\r\n        // If same date, sort by created_at\r\n        const createdA = new Date(a.created_at).getTime()\r\n        const createdB = new Date(b.created_at).getTime()\r\n        return createdB - createdA // Descending by created_at\r\n      })\r\n      \r\n      console.log(`[useTransactions] Successfully loaded ${sortedData.length} transactions`)\r\n      if (sortedData.length > 0) {\r\n        console.log('[useTransactions] Sample transaction:', {\r\n          id: sortedData[0].id,\r\n          type: sortedData[0].transaction_type,\r\n          amount: sortedData[0].amount,\r\n          date: sortedData[0].transaction_date,\r\n          created_at: sortedData[0].created_at,\r\n        })\r\n      }\r\n      \r\n      return sortedData\r\n    },\r\n    enabled: !!currentBusiness?.id,\r\n    refetchOnWindowFocus: true,\r\n    refetchOnMount: true,\r\n  })\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/components/BottomNav.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { Home, Clock, FileText, Settings } from 'lucide-react'\r\n\r\nconst NAV_HEIGHT = 88\r\n\r\nexport function BottomNav() {\r\n  const { t } = useTranslation()\r\n  const pathname = usePathname()\r\n  \r\n  const navItems = [\r\n    { href: '/', label: t('home.title'), icon: Home },\r\n    { href: '/history', label: t('history.title'), icon: Clock },\r\n    { href: '/summary', label: t('summary.title'), icon: FileText },\r\n    { href: '/settings', label: t('settings.title'), icon: Settings },\r\n  ]\r\n\r\n  return (\r\n    <nav \r\n      className=\"fixed bottom-0 left-0 right-0 bg-[var(--tally-surface)] border-t border-tally-border z-50\"\r\n      style={{\r\n        height: '88px',\r\n        paddingBottom: 'env(safe-area-inset-bottom)',\r\n      }}\r\n    >\r\n      <div className=\"max-w-md mx-auto grid grid-cols-4 h-full\">\r\n        {navItems.map((item) => {\r\n          const Icon = item.icon\r\n          const isActive = pathname === item.href\r\n          return (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              className={`flex flex-col items-center justify-center transition-colors flex-1 min-w-0 ${\r\n                isActive ? 'text-tally-sale' : 'text-tally-text-muted'\r\n              }`}\r\n            >\r\n              <Icon className=\"w-6 h-6\" />\r\n              <span className=\"text-[11px] leading-none whitespace-nowrap mt-1\">{item.label}</span>\r\n            </Link>\r\n          )\r\n        })}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;;AAOA,MAAM,aAAa;AAEZ,SAAS;;IACd,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,qLAAc;IAC5B,MAAM,WAAW,IAAA,oJAAW;IAE5B,MAAM,WAAW;QACf;YAAE,MAAM;YAAK,OAAO,EAAE;YAAe,MAAM,8MAAI;QAAC;QAChD;YAAE,MAAM;YAAY,OAAO,EAAE;YAAkB,MAAM,gNAAK;QAAC;QAC3D;YAAE,MAAM;YAAY,OAAO,EAAE;YAAkB,MAAM,6NAAQ;QAAC;QAC9D;YAAE,MAAM;YAAa,OAAO,EAAE;YAAmB,MAAM,yNAAQ;QAAC;KACjE;IAED,qBACE,6LAAC;QACC,WAAU;QACV,OAAO;YACL,QAAQ;YACR,eAAe;QACjB;kBAEA,cAAA,6LAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,OAAO,KAAK,IAAI;gBACtB,MAAM,WAAW,aAAa,KAAK,IAAI;gBACvC,qBACE,6LAAC,0KAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,CAAC,2EAA2E,EACrF,WAAW,oBAAoB,yBAC/B;;sCAEF,6LAAC;4BAAK,WAAU;;;;;;sCAChB,6LAAC;4BAAK,WAAU;sCAAmD,KAAK,KAAK;;;;;;;mBAPxE,KAAK,IAAI;;;;;YAUpB;;;;;;;;;;;AAIR;GAvCgB;;QACA,qLAAc;QACX,oJAAW;;;KAFd"}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/assets/tally-logo.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 420, height: 490, blurWidth: 7, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAYAAAA1BOUGAAAA40lEQVR42j3PS6sBcQAF8H937r3NdK/HkNE0mI3XDIXymLwa8/AfWaCUhdhpFgg14QOgUB4bpZTyRfDNmBGL3+p0Th2QqddUqgynhMQPHPILIReGDj6rguZ2ebcwgcLX7w/2hqCoyamIGmjv13cn4xNzLjynE2ibUA2SdbYCZ0aTDgfKWoKerHn/7qSwl43EHEJVOAet3eqWTUfUI2TPi7x3NYp7tE7M3XWXxKkRUiF/kaOsXJK0JHUJCudIKGj67NUaZmQEQ80Ihhm+//9woiSNQbQoNkhFGj6v9D5kvm/PpFoPU3s4+SS8Td4AAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,mJAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAoZ"}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/components/TallyLogo.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Image from 'next/image'\r\nimport { useRouter } from 'next/navigation'\r\nimport tallyLogo from '@/assets/tally-logo.png'\r\n\r\ninterface TallyLogoProps {\r\n  size?: number\r\n  className?: string\r\n}\r\n\r\nexport function TallyLogo({ size = 28, className = '' }: TallyLogoProps) {\r\n  const router = useRouter()\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={() => router.push('/')}\r\n      className={`flex items-center justify-center ${className}`}\r\n      aria-label=\"Go to home\"\r\n    >\r\n      <Image\r\n        src={tallyLogo}\r\n        alt=\"Tally\"\r\n        width={size}\r\n        height={size}\r\n        priority\r\n      />\r\n    </button>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAWO,SAAS,UAAU,EAAE,OAAO,EAAE,EAAE,YAAY,EAAE,EAAkB;;IACrE,MAAM,SAAS,IAAA,kJAAS;IAExB,qBACE,6LAAC;QACC,MAAK;QACL,SAAS,IAAM,OAAO,IAAI,CAAC;QAC3B,WAAW,CAAC,iCAAiC,EAAE,WAAW;QAC1D,cAAW;kBAEX,cAAA,6LAAC,2IAAK;YACJ,KAAK,4UAAS;YACd,KAAI;YACJ,OAAO;YACP,QAAQ;YACR,QAAQ;;;;;;;;;;;AAIhB;GAnBgB;;QACC,kJAAS;;;KADV"}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/components/AppHeader.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useRouter, usePathname } from 'next/navigation'\r\nimport { ArrowLeft } from 'lucide-react'\r\nimport { TallyLogo } from './TallyLogo'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\ninterface AppHeaderProps {\r\n  title: string\r\n  showBack?: boolean\r\n  showLogo?: boolean\r\n}\r\n\r\nexport function AppHeader({ title, showBack = true, showLogo = true }: AppHeaderProps) {\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n  const isHome = pathname === '/'\r\n\r\n  const handleBack = () => {\r\n    if (window.history.length > 1) {\r\n      router.back()\r\n    } else {\r\n      router.push('/')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header className=\"sticky top-0 z-40 bg-surface border-b border-tally-border\">\r\n      <div className=\"max-w-md mx-auto px-4 h-16 flex items-center\">\r\n        {/* Left: Back button or Logo */}\r\n        <div className=\"flex items-center justify-start w-12 flex-shrink-0\">\r\n          {!isHome && showBack ? (\r\n            <button\r\n              onClick={handleBack}\r\n              className=\"flex items-center justify-center w-10 h-10 rounded-lg hover:bg-tally-surface-2 transition-colors\"\r\n              aria-label=\"Go back\"\r\n            >\r\n              <ArrowLeft className=\"w-5 h-5 text-tally-text\" />\r\n            </button>\r\n          ) : showLogo ? (\r\n            <TallyLogo size={28} />\r\n          ) : (\r\n            <div className=\"w-10\" />\r\n          )}\r\n        </div>\r\n\r\n        {/* Center: Title */}\r\n        <div className=\"flex-1 min-w-0 px-2 flex items-center justify-center\">\r\n          <h1 className=\"text-lg font-semibold text-tally-text text-center truncate\">\r\n            {title}\r\n          </h1>\r\n        </div>\r\n\r\n        {/* Right: Logo or spacer */}\r\n        <div className=\"flex items-center justify-end w-12 flex-shrink-0\">\r\n          {showLogo && !isHome ? (\r\n            <TallyLogo size={28} />\r\n          ) : (\r\n            <div className=\"w-10\" />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAaO,SAAS,UAAU,EAAE,KAAK,EAAE,WAAW,IAAI,EAAE,WAAW,IAAI,EAAkB;;IACnF,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,SAAS,aAAa;IAE5B,MAAM,aAAa;QACjB,IAAI,OAAO,OAAO,CAAC,MAAM,GAAG,GAAG;YAC7B,OAAO,IAAI;QACb,OAAO;YACL,OAAO,IAAI,CAAC;QACd;IACF;IAEA,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;8BACZ,CAAC,UAAU,yBACV,6LAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,6LAAC,gOAAS;4BAAC,WAAU;;;;;;;;;;+BAErB,yBACF,6LAAC,+IAAS;wBAAC,MAAM;;;;;6CAEjB,6LAAC;wBAAI,WAAU;;;;;;;;;;;8BAKnB,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAG,WAAU;kCACX;;;;;;;;;;;8BAKL,6LAAC;oBAAI,WAAU;8BACZ,YAAY,CAAC,uBACZ,6LAAC,+IAAS;wBAAC,MAAM;;;;;6CAEjB,6LAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;AAM3B;GAnDgB;;QACC,kJAAS;QACP,oJAAW;;;KAFd"}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/components/AppShell.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { ReactNode } from 'react'\r\nimport { BottomNav } from './BottomNav'\r\nimport { AppHeader } from './AppHeader'\r\n\r\nconst NAV_HEIGHT = 88\r\n\r\nexport function AppShell({\r\n  children,\r\n  title,\r\n  showBack = false,\r\n  showLogo = true,\r\n}: {\r\n  children: ReactNode\r\n  title?: string\r\n  showBack?: boolean\r\n  showLogo?: boolean\r\n}) {\r\n  return (\r\n    <div className=\"min-h-screen bg-[var(--tally-bg)]\">\r\n      <div className=\"sticky top-0 z-40\">\r\n        <AppHeader title={title ?? ''} showBack={showBack} showLogo={showLogo} />\r\n      </div>\r\n      <main\r\n        style={{\r\n          paddingBottom: `calc(${NAV_HEIGHT}px + env(safe-area-inset-bottom) + 24px)`,\r\n        }}\r\n      >\r\n        {children}\r\n      </main>\r\n      <BottomNav />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAMA,MAAM,aAAa;AAEZ,SAAS,SAAS,EACvB,QAAQ,EACR,KAAK,EACL,WAAW,KAAK,EAChB,WAAW,IAAI,EAMhB;IACC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,+IAAS;oBAAC,OAAO,SAAS;oBAAI,UAAU;oBAAU,UAAU;;;;;;;;;;;0BAE/D,6LAAC;gBACC,OAAO;oBACL,eAAe,CAAC,KAAK,EAAE,WAAW,wCAAwC,CAAC;gBAC7E;0BAEC;;;;;;0BAEH,6LAAC,+IAAS;;;;;;;;;;;AAGhB;KA1BgB"}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/components/HomeHeader.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { format } from 'date-fns'\r\n\r\nexport function HomeHeader() {\r\n  const today = new Date()\r\n  const dateStr = format(today, 'EEEE, MMMM d, yyyy')\r\n\r\n  return (\r\n    <div className=\"max-w-[480px] mx-auto px-6 pt-6 pb-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <p className=\"text-sm text-[var(--tally-text-muted)]\">{dateStr}</p>\r\n        <div className=\"w-8 h-8 rounded-full bg-[var(--tally-surface)] border border-[var(--tally-border)] flex items-center justify-center\">\r\n          <span className=\"text-xs font-medium text-[var(--tally-text)]\">MY</span>\r\n        </div>\r\n      </div>\r\n      <h1 className=\"text-2xl font-bold text-[var(--tally-text)] mt-2\">Today's Summary</h1>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,MAAM,QAAQ,IAAI;IAClB,MAAM,UAAU,IAAA,mKAAM,EAAC,OAAO;IAE9B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;kCAA0C;;;;;;kCACvD,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAK,WAAU;sCAA+C;;;;;;;;;;;;;;;;;0BAGnE,6LAAC;gBAAG,WAAU;0BAAmD;;;;;;;;;;;;AAGvE;KAfgB"}},
    {"offset": {"line": 657, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function formatCurrency(amount: number, direction?: 'in' | 'out'): string {\r\n  const formatted = new Intl.NumberFormat('ms-MY', {\r\n    style: 'currency',\r\n    currency: 'MYR',\r\n    minimumFractionDigits: 2\r\n  }).format(amount).replace('MYR', 'RM')\r\n  \r\n  if (direction === 'in') {\r\n    return `+ ${formatted}`\r\n  } else if (direction === 'out') {\r\n    return `â€“ ${formatted}`\r\n  }\r\n  \r\n  return formatted\r\n}\r\n\r\nexport function formatDate(date: Date | string): string {\r\n  return new Date(date).toLocaleDateString('ms-MY', {\r\n    day: 'numeric',\r\n    month: 'short',\r\n    year: 'numeric'\r\n  })\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAEO,SAAS,eAAe,MAAc,EAAE,SAAwB;IACrE,MAAM,YAAY,IAAI,KAAK,YAAY,CAAC,SAAS;QAC/C,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB,GAAG,MAAM,CAAC,QAAQ,OAAO,CAAC,OAAO;IAEjC,IAAI,cAAc,MAAM;QACtB,OAAO,CAAC,EAAE,EAAE,WAAW;IACzB,OAAO,IAAI,cAAc,OAAO;QAC9B,OAAO,CAAC,EAAE,EAAE,WAAW;IACzB;IAEA,OAAO;AACT;AAEO,SAAS,WAAW,IAAmB;IAC5C,OAAO,IAAI,KAAK,MAAM,kBAAkB,CAAC,SAAS;QAChD,KAAK;QACL,OAAO;QACP,MAAM;IACR;AACF"}},
    {"offset": {"line": 699, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/components/SummaryCardLovable.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { formatCurrency } from '@/lib/utils'\r\n\r\ninterface SummaryCardLovableProps {\r\n  cashIn: number\r\n  cashOut: number\r\n  balance: number\r\n}\r\n\r\nexport function SummaryCardLovable({ cashIn, cashOut, balance }: SummaryCardLovableProps) {\r\n  return (\r\n    <div className=\"bg-[var(--tally-surface)] rounded-lg border border-[var(--tally-border)] p-6\">\r\n      <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n        <div>\r\n          <p className=\"text-xs text-[var(--tally-text-muted)] mb-1\">Cash In</p>\r\n          <p className=\"text-xl font-bold tabular-nums text-[#2E7D5B]\">\r\n            {formatCurrency(cashIn)}\r\n          </p>\r\n        </div>\r\n        <div className=\"text-right\">\r\n          <p className=\"text-xs text-[var(--tally-text-muted)] mb-1\">Cash Out</p>\r\n          <p className=\"text-xl font-bold tabular-nums text-[#B94A3A]\">\r\n            {formatCurrency(cashOut)}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"border-t border-[var(--tally-border)] pt-4\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <p className=\"text-sm font-medium text-[var(--tally-text)]\">Today's Balance</p>\r\n          <p className=\"text-2xl font-bold tabular-nums text-[var(--tally-text)]\">\r\n            {formatCurrency(balance)}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,SAAS,mBAAmB,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAA2B;IACtF,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAE,WAAU;0CAA8C;;;;;;0CAC3D,6LAAC;gCAAE,WAAU;0CACV,IAAA,wIAAc,EAAC;;;;;;;;;;;;kCAGpB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAA8C;;;;;;0CAC3D,6LAAC;gCAAE,WAAU;0CACV,IAAA,wIAAc,EAAC;;;;;;;;;;;;;;;;;;0BAItB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;sCAA+C;;;;;;sCAC5D,6LAAC;4BAAE,WAAU;sCACV,IAAA,wIAAc,EAAC;;;;;;;;;;;;;;;;;;;;;;;AAM5B;KA3BgB"}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parvi/tally/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useTodayProfit } from '@/hooks/useTodayProfit'\nimport { useTransactions } from '@/hooks/useTransactions'\nimport { TransactionListLovable } from '@/components/TransactionListLovable'\nimport { AppShell } from '@/components/AppShell'\nimport { HomeHeader } from '@/components/HomeHeader'\nimport { SummaryCardLovable } from '@/components/SummaryCardLovable'\nimport { useTranslation } from 'react-i18next'\nimport Link from 'next/link'\n\nexport default function MainPage() {\n  const { t } = useTranslation()\n  const { data: profitData, isLoading: profitLoading } = useTodayProfit()\n  const { data: transactions, isLoading: transactionsLoading, error: transactionsError } = useTransactions()\n\n  const revenue = profitData?.revenue || 0\n  const expenses = profitData?.expenses || 0\n  const balance = profitData?.profit || 0\n\n  return (\n    <AppShell title=\"\" showBack={false} showLogo={false}>\n      <div className=\"max-w-[480px] mx-auto\">\n        <HomeHeader />\n        \n        <div className=\"px-6 pb-6 space-y-6\">\n          {/* Summary Card */}\n          <SummaryCardLovable \n            cashIn={revenue} \n            cashOut={expenses} \n            balance={balance} \n          />\n\n          {/* Primary Action Buttons */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <Link\n              href=\"/sale\"\n              className=\"h-20 bg-[#29978C] hover:bg-[#238579] text-white text-base font-bold rounded-lg flex items-center justify-center shadow-md transition-colors active:scale-95\"\n            >\n              Record Sale\n            </Link>\n            <Link\n              href=\"/expense\"\n              className=\"h-20 bg-[#EA6C3C] hover:bg-[#E56E44] text-white text-base font-bold rounded-lg flex items-center justify-center shadow-md transition-colors active:scale-95\"\n            >\n              Record Expense\n            </Link>\n          </div>\n\n          {/* Recent Activity Section */}\n          <div>\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold text-[var(--tally-text)]\">Recent Activity</h2>\n              <Link \n                href=\"/history\"\n                className=\"text-sm text-[#29978C] font-medium hover:underline\"\n              >\n                View all\n              </Link>\n            </div>\n            {transactionsError ? (\n              <div className=\"text-center py-8 text-[var(--tally-text-muted)]\">\n                <p>{t('home.loadingError')}</p>\n              </div>\n            ) : transactionsLoading ? (\n              <div className=\"text-center py-8 text-[var(--tally-text-muted)]\">{t('common.loading')}</div>\n            ) : (\n              <TransactionList transactions={transactions || []} limit={5} />\n            )}\n          </div>\n        </div>\n      </div>\n    </AppShell>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;;;AATA;;;;;;;;AAWe,SAAS;;IACtB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,qLAAc;IAC5B,MAAM,EAAE,MAAM,UAAU,EAAE,WAAW,aAAa,EAAE,GAAG,IAAA,mJAAc;IACrE,MAAM,EAAE,MAAM,YAAY,EAAE,WAAW,mBAAmB,EAAE,OAAO,iBAAiB,EAAE,GAAG,IAAA,qJAAe;IAExG,MAAM,UAAU,YAAY,WAAW;IACvC,MAAM,WAAW,YAAY,YAAY;IACzC,MAAM,UAAU,YAAY,UAAU;IAEtC,qBACE,6LAAC,6IAAQ;QAAC,OAAM;QAAG,UAAU;QAAO,UAAU;kBAC5C,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,iJAAU;;;;;8BAEX,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC,iKAAkB;4BACjB,QAAQ;4BACR,SAAS;4BACT,SAAS;;;;;;sCAIX,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;sCAMH,6LAAC;;8CACC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAG,WAAU;sDAAiD;;;;;;sDAC/D,6LAAC,0KAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;gCAIF,kCACC,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;kDAAG,EAAE;;;;;;;;;;2CAEN,oCACF,6LAAC;oCAAI,WAAU;8CAAmD,EAAE;;;;;yDAEpE,6LAAC;oCAAgB,cAAc,gBAAgB,EAAE;oCAAE,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxE;GA/DwB;;QACR,qLAAc;QAC2B,mJAAc;QACoB,qJAAe;;;KAHlF"}}]
}